<!doctype html> <html> <head> <meta charset=utf-8 /> <meta http-equiv=X-UA-Compatible content="IE=edge;chrome=1"/> <meta name=viewport content="width=device-width"> <meta property="og:locale" content=en_us> <meta property="og:type" content=article> <meta property="og:title" content="A Better Terminal for Windows"> <meta property="og:url" content="http://array.blue/blog/2012/a-better-terminal-for-windows.html"> <meta property="article:published_time" content="2012-06-02T07:00:00Z"> <meta property="article:tag" content=windows> <meta property="article:tag" content=shell> <meta property="article:tag" content=monokai> <title>[ A Better Terminal for Windows ].blue</title> <link rel=alternate type="application/atom+xml" title="Atom Feed" href="/feed.xml"/> <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel=stylesheet type="text/css" media="(min-width: 767px)"> <link href="/stylesheets/all-2548ef72.css" rel=stylesheet type="text/css"/> <script src="/javascripts/all-641b3993.js"></script> </head> <body class="blog blog_2012 blog_2012_a-better-terminal-for-windows" itemscope itemtype="http://schema.org/Blog"> <div class=wrapper> <header class=page> <h1 itemprop=name><a href="/">[ ].blue</a></h1> <h6 itemprop=author>Blog of <span itemprop=givenName>Titus</span> <span itemprop=familyName>Stone</span></h6> </header> <main> <article itemprop=blogPost itemscope itemtype="http://schema.org/BlogPosting"> <h1 class=title itemprop=headline>A Better Terminal for Windows</h1> <h4 class=date itemprop=dateCreated>June 2, 2012</h4> <div itemprop=articleBody> <p>Paul Irish&#39;s presentation, <a href="//www.youtube.com/watch?v=f7AU2Ozu8eo">&quot;Javascript Development Workflow of 2013&quot;</a>, given at the recent Fluent Conf 2012 is starting to make it&#39;s rounds. In it, he goes over a handful of tools that can improve one&#39;s efficiency and productivity while developing.</p> <p>It inspired me to tune-up my own environment. OSX is certianly popular now days, but I still do a lot of .NET work so I primarily am on Windows. And with a lot of the windows compatibilty improvements node.js has been seeing lately, there&#39;s no reason to not consider Windows as a valid development platform.</p> <p>That said, one area that needs the most help is the terminal. In an ideal world, here&#39;s what our windows developer terminal would look like:</p> <ul> <li>It should allow us to execute familiar unix/linux commands</li> <li>It should have command and file completion</li> <li>It should look nice</li> <li>It should be instantly accessible from anywhere, easily, somehow</li> </ul> <p>Turns out, all of this is possible.</p> <h2>Start with the Shell</h2> <p><a href="//www.zsh.org/">Z shell (or zsh)</a> is one of the most-loved shells among power users. It was originally written for the POSIX environment, but can be had on Windows through <a href="//www.cygwin.com/">Cygwin</a>.</p> <h3>Getting Zsh on Your Windows Box</h3> <ol> <li>First, head over to <a href="//www.cygwin.com/">cygwin.com</a> and download the Cygwin installer</li> <li> At some point in the installation, after clicking &quot;Next &gt;&quot; a handful of times, you&#39;ll end up on a &quot;Select Packages&quot; screen. The important one to get is Shells &gt; Zsh. You might also want to pickup other packages like git or nano while you&#39;re here.</li> </ol> <p>That&#39;s pretty much it. Zsh is now on your system wherever you installed it. By default when you launch the Cygwin prompt it will be running bash. In a second we&#39;ll look at changing this.</p> <p><img alt="Alt Stock Cygwin" src="/images/stock-cygwin-20e3d90d.png"/></p> <h2>Now Give it a Better UI</h2> <p>If you tried launching Cygwin, you&#39;ll notice that the way it works is by running the bash.exe (bash shell) under cmd.exe. This works, but there is a better option: <a href="//sourceforge.net/projects/console/">Console2</a>. Console2 provides a few notable improvements:</p> <ul> <li>It looks a lot nicer</li> <li>It has tabbed console windows, so you can have more than one open and flip between them</li> </ul> <p>Download and Install Console2.</p> <p>Once you&#39;ve got it installed, we need to configure it to run our Zsh under Cygwin. To do so, open Console2 and on the menu go to Edit &gt; Settings. Then configure the following values:</p> <div class=highlight><pre class="highlight plaintext"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class=rouge-code><pre># Shell:
D:\Cygwin\bin\zsh.exe --login -i -c "cd ~;exec /bin/zsh"
</pre></td></tr></tbody></table></code></pre></div> <p>You can leave &quot;Startup dir&quot; blank. In this case, I&#39;ve installed my Cygwin to <code>D:\Cygwin</code> but if you installed it elsewhere you&#39;ll want to use that path instead.</p> <p>While you&#39;re on the settings screen you might also want to increase the default window size. I have mine set to...</p> <div class=highlight><pre class="highlight plaintext"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class=rouge-code><pre>Rows: 34
Columns: 124
</pre></td></tr></tbody></table></code></pre></div> <p>With all that done, save the settings and re-launch Console2. You should now get a prompt that is like...</p> <div class=highlight><pre class="highlight plaintext"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class=rouge-code><pre>(YourName@YourComputerName)[1] ~
</pre></td></tr></tbody></table></code></pre></div> <p>If so, you&#39;ve done everything correctly.</p> <h2>Now Make it Accessible</h2> <p>One of the things I like about Ubuntu is that the terminal window is easily available via a hot key from anywhere in the system. By default, this key combination is <code>ctrl+alt+t</code>. I&#39;ve gotten used to that and it&#39;s possible to have this same behavior on Windows with a utility called <a href="//www.autohotkey.com/">AutoHotKey</a>.</p> <p>As with all of the other software mentioned in this blog post, it&#39;s free. Go ahead and download it.</p> <p>AutoHotKey is a little more tricky to setup. It uses &quot;hot key scripts&quot; to define what keys map to what functionality. The language of these scripts is proprietary, so I won&#39;t cover it in detail here. You can read through the included help file or website if you want to learn it.</p> <p>For our purposes we simply want to bind <code>ctrl+alt+t</code> to launching our Zsh in Console2.</p> <p>After AutoHotKey is installed, create a new file named &quot;AutoHotKey.ahk&quot; in your Startup folder (you know the one on the Start Menu).</p> <p>Edit it and add in the following:</p> <div class=highlight><pre class="highlight plaintext"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class=rouge-code><pre>; ctrl + alt + t = terminal
^!t::
    run D:\Program Files\Console2\Console.exe
    return
</pre></td></tr></tbody></table></code></pre></div> <p>In this case <code>^</code> is CTRL and <code>!</code> is Alt, so <code>^!t::</code> means <code>ctrl+alt+t</code>. You can think of the <code>::</code> as a kind of function definition.</p> <p>After you&#39;ve got the file saved, click (or double click) on the .ahk file to start AutoHotKey. Since it&#39;s in the startup folder it will start automatically with your computer, but for the first time we need to manually start it. You should see a green &quot;H&quot; icon appear in the task bar area next to the clock.</p> <p>Go ahead and press the key combination and Console2 should appear.</p> <h2>Now Make it Look Good</h2> <p>We&#39;re almost there. We&#39;ve got Zsh running in Console2, but by default that green and mustard are ugly. It turns out Console2 allows cusomizing of colors, but it&#39;s a little cumbersome. There isn&#39;t any kind of &quot;scheme&quot; import utility, you have to do things yourself.</p> <p>The colors can be edited under Settings or can be manually edited in bulk by messing with the configuration file. The config file is <code>console.xml</code> and is located in the same directory as the <code>console.exe</code> executable.</p> <p>There are 2 color schemes up on github (at the time of writing) and becuase I like it so much, I put together a monokai one as well.</p> <ul> <li><a href="https://github.com/tstone/console2-monokai">Monokai</a></li> <li><a href="https://github.com/stevenharman/console2-solarized">Solarized</a></li> <li><a href="https://github.com/alanstevens/console2-ir_black">IR Black</a></li> </ul> <p>For all three of themes, the color scheme can be installed by copying everything between <code>&lt;colors&gt;</code> and <code>&lt;/colors&gt;</code> out of the file on github and into your <code>console.xml</code> file.</p> <h2>Then Actually Make Use of Those Colors</h2> <p>One last thing. It&#39;s a bit pointless to setup a nice color scheme if by default the colors arne&#39;t always shown. One thing we can do as setup aliases to enable colors by default. A great example of this is for the command <code>ls</code>. By default, <code>ls</code> will use white for everything, however <code>ls --color</code> will colorize directories, executables, etc. in different ways. It would be cumbersome to type this everytime, so we can setup a zsh alias to do it for us.</p> <p>Aliases can be added to your <code>.zshrc</code> file.</p> <div class=highlight><pre class="highlight plaintext"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class=rouge-code><pre>nano ~/.zshrc
</pre></td></tr></tbody></table></code></pre></div> <p>And add this line:</p> <div class=highlight><pre class="highlight plaintext"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class=rouge-code><pre>alias ls='ls --color'
</pre></td></tr></tbody></table></code></pre></div> <p>Restart your zsh and now every type you do <code>ls</code> you should get a colorized version, in monokai colors (or the scheme of your choice).</p> <p><img alt="Alt Console2 with Monokai Colors" src="/images/console2-8da40090.png"/></p> <h2>And Add Some Cool Tricks</h2> <p>Bash and zsh will both let you pipe the output from one command into another. One technique I&#39;ve found that&#39;s useful is to pipe the output of a command into the clipboard. Say for example I want to copy my SSH public key and add it to github. Typically I&#39;d do something along the lines of...</p> <div class=highlight><pre class="highlight plaintext"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class=rouge-code><pre>$ less ~/.ssh/github_rsa.pub
</pre></td></tr></tbody></table></code></pre></div> <p>And then I&#39;d have to highlight all the text in the console and hit <code>ctrl+c</code>. However, if we were to instead do...</p> <div class=highlight><pre class="highlight plaintext"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class=rouge-code><pre>$ cat ~/.ssh/github_rsa.pub | clip
</pre></td></tr></tbody></table></code></pre></div> <p>The contents of that file would, instead of being written out to the console, be stuck into my clipboard. I could then <code>ctrl+v</code> it into github as needed.</p> <h3>Caveats</h3> <p>The only thing I haven&#39;t yet gotten working is <code>npm</code> under zsh/bash/cygwin. The problem seems to be the paths to the modules don&#39;t resolve correctly.</p> </div> </article> </main> </div> <footer> <span>&copy; Titus Stone</span> <a href="/">Home</a> <a href="//github.com/tstone">Github</a> <a href="//twitter.com/andstuff">Twitter</a> </footer> <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-32115012-1', 'auto');
        ga('send', 'pageview');
      </script> </body> </html>